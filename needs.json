{"created": "2025-10-19T00:36:41.074664", "current_version": "", "project": "ESP32 Template", "versions": {"": {"created": "2025-10-19T00:36:41.074652", "creator": {"program": "sphinx_needs", "version": "6.0.1"}, "needs": {"REQ_CFG_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The system SHALL consolidate all user-configurable parameters into a centralized configuration module, using appropriate data types for embedded performance optimization.\n\n**Rationale:** Centralized configuration simplifies maintenance, reduces code duplication, and enables runtime configuration changes.\n\n**Acceptance Criteria:**\n\n- AC-1: All configurable parameters SHALL be defined in configuration module\n- AC-2: Configuration SHALL use appropriate data types (integers, enums, etc.)\n- AC-3: Hardware-specific constants SHALL remain in component headers\n- AC-4: Configuration SHALL be accessible from all application modules", "created_at": "", "docname": "11_requirements/config-manager", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_CFG_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 15, "links": ["REQ_SYS_CFG_1"], "links_back": ["REQ_CFG_2", "REQ_CFG_3", "REQ_CFG_9"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Static Configuration Management", "sections": ["Static Configuration Management", "Configuration Manager Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["config", "architecture"], "template": null, "title": "Centralized Configuration Header", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_CFG_10": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The system SHALL gracefully handle NVS read/write failures and continue operating with default configuration.\n\n**Rationale:** NVS corruption or flash wear-out should not prevent system boot.\n\n**Acceptance Criteria:**\n\n- AC-1: NVS read failure SHALL log error and use default configuration\n- AC-2: NVS write failure SHALL log error and continue operation\n- AC-3: System SHALL boot successfully even if NVS is corrupted\n- AC-4: Web interface SHALL indicate NVS errors to user", "created_at": "", "docname": "11_requirements/config-manager", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_CFG_10", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 197, "links": ["REQ_CFG_4"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Configuration Error Handling", "sections": ["Configuration Error Handling", "Configuration Manager Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["config", "error-handling"], "template": null, "title": "NVS Error Recovery", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_CFG_11": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The configuration manager SHOULD log all configuration changes for debugging and audit purposes.\n\n**Rationale:** Configuration change history aids debugging and security auditing.\n\n**Acceptance Criteria:**\n\n- AC-1: Log SHALL include timestamp, parameter name, old value, new value\n- AC-2: Log SHALL use appropriate log level (INFO for changes, ERROR for failures)\n- AC-3: Log SHALL be readable via serial console\n- AC-4: Log format SHALL be parseable for automated analysis", "created_at": "", "docname": "11_requirements/config-manager", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_CFG_11", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 216, "links": ["REQ_CFG_5", "REQ_CFG_8"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "optional", "query": "", "rationale": "", "section_name": "Configuration Error Handling", "sections": ["Configuration Error Handling", "Configuration Manager Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["config", "logging", "debugging"], "template": null, "title": "Configuration Logging", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_CFG_2": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** All application components SHALL access configuration parameters through the centralized configuration module rather than defining local constants.\n\n**Rationale:** Ensures single source of truth for configuration values and enables runtime reconfiguration.\n\n**Acceptance Criteria:**\n\n- AC-1: Components SHALL include configuration module header\n- AC-2: Components SHALL NOT define duplicate configuration constants\n- AC-3: Configuration access SHALL be type-safe\n- AC-4: Invalid configuration access SHALL be detected at compile time", "created_at": "", "docname": "11_requirements/config-manager", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_CFG_2", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 34, "links": ["REQ_CFG_1"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Static Configuration Management", "sections": ["Static Configuration Management", "Configuration Manager Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["config", "api"], "template": null, "title": "Compile-Time Configuration Access", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_CFG_3": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The system SHALL maintain a runtime-modifiable configuration structure that mirrors compile-time default values.\n\n**Rationale:** Enables users to modify configuration at runtime without firmware recompilation.\n\n**Acceptance Criteria:**\n\n- AC-1: Runtime configuration structure SHALL contain all user-configurable parameters\n- AC-2: Runtime configuration SHALL be initialized with compile-time defaults on boot\n- AC-3: Runtime configuration SHALL use same data types as compile-time constants\n- AC-4: Configuration structure SHALL be memory-efficient for embedded constraints", "created_at": "", "docname": "11_requirements/config-manager", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_CFG_3", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 56, "links": ["REQ_CFG_1", "REQ_SYS_CFG_1"], "links_back": ["REQ_CFG_4", "REQ_CFG_6", "REQ_WEB_2"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Runtime Configuration Management", "sections": ["Runtime Configuration Management", "Configuration Manager Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["config", "runtime"], "template": null, "title": "Runtime Configuration Structure", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_CFG_4": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The system SHALL store runtime configuration in non-volatile storage (NVS) to persist across reboots.\n\n**Rationale:** Users expect configuration changes to survive power cycles.\n\n**Acceptance Criteria:**\n\n- AC-1: Configuration SHALL be saved to NVS when modified\n- AC-2: Configuration SHALL be loaded from NVS on boot\n- AC-3: NVS write failures SHALL be logged and reported\n- AC-4: Configuration SHALL use ESP-IDF NVS API for storage", "created_at": "", "docname": "11_requirements/config-manager", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_CFG_4", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 75, "links": ["REQ_CFG_3", "REQ_SYS_CFG_1"], "links_back": ["REQ_CFG_5", "REQ_CFG_8", "REQ_CFG_10"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Runtime Configuration Management", "sections": ["Runtime Configuration Management", "Configuration Manager Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["config", "storage", "nvs"], "template": null, "title": "Persistent Configuration Storage", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_CFG_5": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The configuration manager SHALL provide thread-safe API functions to read configuration parameters.\n\n**Rationale:** Multiple tasks may need concurrent access to configuration values.\n\n**Acceptance Criteria:**\n\n- AC-1: Read API SHALL return current runtime configuration values\n- AC-2: Read API SHALL be thread-safe (use mutexes if needed)\n- AC-3: Read API SHALL have minimal performance overhead\n- AC-4: Read API SHALL provide type-safe parameter access", "created_at": "", "docname": "11_requirements/config-manager", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_CFG_5", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 97, "links": ["REQ_CFG_4"], "links_back": ["REQ_CFG_7", "REQ_CFG_11"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Configuration API", "sections": ["Configuration API", "Configuration Manager Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["config", "api"], "template": null, "title": "Configuration Read API", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_CFG_6": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The system SHALL validate configuration parameter values to ensure they are within acceptable ranges before accepting changes.\n\n**Rationale:** Invalid configuration can cause system malfunction or safety hazards.\n\n**Acceptance Criteria:**\n\n- AC-1: Each parameter SHALL have defined minimum and maximum values\n- AC-2: Write API SHALL reject out-of-range values with error code\n- AC-3: Validation SHALL prevent invalid parameter combinations\n- AC-4: Validation errors SHALL be logged with specific parameter name", "created_at": "", "docname": "11_requirements/config-manager", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_CFG_6", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 116, "links": ["REQ_CFG_3"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Configuration API", "sections": ["Configuration API", "Configuration Manager Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["config", "validation"], "template": null, "title": "Configuration Validation", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_CFG_7": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The configuration manager SHALL provide HTTP handlers for web-based configuration access and modification.\n\n**Rationale:** Users need remote configuration capability via web interface.\n\n**Acceptance Criteria:**\n\n- AC-1: HTTP GET handler SHALL return current configuration as JSON\n- AC-2: JSON format SHALL be human-readable and self-documenting\n- AC-3: Configuration SHALL include parameter metadata (units, ranges)\n- AC-4: HTTP handler SHALL be integrated with web server component", "created_at": "", "docname": "11_requirements/config-manager", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_CFG_7", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 135, "links": ["REQ_CFG_5", "REQ_WEB_2"], "links_back": ["REQ_CFG_8", "REQ_CFG_9"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Configuration API", "sections": ["Configuration API", "Configuration Manager Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["config", "web", "api"], "template": null, "title": "Configuration Web Interface", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_CFG_8": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The web interface SHALL provide capability to save configuration changes to NVS storage.\n\n**Rationale:** Users need to persist configuration changes across reboots.\n\n**Acceptance Criteria:**\n\n- AC-1: HTTP POST handler SHALL accept configuration updates as JSON\n- AC-2: Handler SHALL validate parameters before applying changes\n- AC-3: Handler SHALL save valid configuration to NVS\n- AC-4: Handler SHALL return success/error status with descriptive message\n- AC-5: Handler SHALL apply configuration immediately (no reboot required)", "created_at": "", "docname": "11_requirements/config-manager", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_CFG_8", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 154, "links": ["REQ_CFG_7", "REQ_CFG_4"], "links_back": ["REQ_CFG_11"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Configuration API", "sections": ["Configuration API", "Configuration Manager Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["config", "web", "persistence"], "template": null, "title": "Configuration Save Operation", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_CFG_9": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The web interface SHALL provide functionality to reload configuration from NVS or restore factory defaults.\n\n**Rationale:** Users may need to undo configuration changes or recover from misconfiguration.\n\n**Acceptance Criteria:**\n\n- AC-1: Reload operation SHALL re-read configuration from NVS\n- AC-2: Factory reset SHALL restore compile-time default values\n- AC-3: Factory reset SHALL clear NVS configuration storage\n- AC-4: Both operations SHALL be accessible via HTTP POST requests\n- AC-5: Operations SHALL return confirmation messages", "created_at": "", "docname": "11_requirements/config-manager", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_CFG_9", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 174, "links": ["REQ_CFG_7", "REQ_CFG_1"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Configuration API", "sections": ["Configuration API", "Configuration Manager Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["config", "web", "factory-reset"], "template": null, "title": "Configuration Reset/Reload", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_NETIF_TUNNEL_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The system SHALL provide a custom network interface driver that bridges ESP32's UART to the host network stack when running in QEMU emulation.\n\n**Rationale:** QEMU does not natively support ESP32 WiFi emulation. A UART tunnel enables network connectivity for testing web server and WiFi-dependent features.\n\n**Acceptance Criteria:**\n\n- AC-1: Driver SHALL register as lwIP network interface\n- AC-2: Driver SHALL use UART1 for packet transport to/from QEMU\n- AC-3: Driver SHALL be conditionally compiled only for QEMU target\n- AC-4: Driver SHALL not interfere with real hardware WiFi driver", "created_at": "", "docname": "11_requirements/netif-tunnel", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_NETIF_TUNNEL_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 15, "links": ["REQ_SYS_SIM_1"], "links_back": ["REQ_NETIF_TUNNEL_2", "REQ_NETIF_TUNNEL_3", "REQ_NETIF_TUNNEL_4", "REQ_NETIF_TUNNEL_5", "REQ_NETIF_TUNNEL_NF_1"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Functional Requirements", "sections": ["Functional Requirements", "Network Interface Tunnel Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["emulation", "network", "qemu", "uart"], "template": null, "title": "QEMU UART Network Bridge", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_NETIF_TUNNEL_2": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The tunnel driver SHALL encapsulate Ethernet frames for transmission over UART with appropriate framing and error detection.\n\n**Rationale:** UART is a byte-stream transport; Ethernet frame boundaries must be preserved.\n\n**Acceptance Criteria:**\n\n- AC-1: Driver SHALL frame packets with length prefix or delimiter\n- AC-2: Driver SHALL detect and discard corrupted packets\n- AC-3: Framing SHALL support MTU-sized packets (1500 bytes)\n- AC-4: Framing overhead SHALL be minimal (<10 bytes per packet)", "created_at": "", "docname": "11_requirements/netif-tunnel", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_NETIF_TUNNEL_2", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 34, "links": ["REQ_NETIF_TUNNEL_1"], "links_back": ["REQ_NETIF_TUNNEL_NF_2"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Functional Requirements", "sections": ["Functional Requirements", "Network Interface Tunnel Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["emulation", "protocol"], "template": null, "title": "Packet Encapsulation", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_NETIF_TUNNEL_3": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The project SHALL provide a Python script that bridges QEMU's UART to the host's TAP network interface.\n\n**Rationale:** QEMU UART output must be forwarded to host network stack for external connectivity.\n\n**Acceptance Criteria:**\n\n- AC-1: Script SHALL create TAP interface on host OS\n- AC-2: Script SHALL forward packets bidirectionally between UART and TAP\n- AC-3: Script SHALL handle QEMU's character device socket protocol\n- AC-4: Script SHALL be executable on Linux and macOS\n- AC-5: Script SHALL provide logging for debugging", "created_at": "", "docname": "11_requirements/netif-tunnel", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_NETIF_TUNNEL_3", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 53, "links": ["REQ_NETIF_TUNNEL_1"], "links_back": ["REQ_NETIF_TUNNEL_DOC_1"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Functional Requirements", "sections": ["Functional Requirements", "Network Interface Tunnel Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["emulation", "tooling", "host"], "template": null, "title": "Host-Side Bridge Script", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_NETIF_TUNNEL_4": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The tunnel network interface SHALL support DHCP client operation to obtain IP address from host network.\n\n**Rationale:** Automatic IP configuration simplifies emulation setup and mirrors real WiFi behavior.\n\n**Acceptance Criteria:**\n\n- AC-1: Driver SHALL support lwIP DHCP client\n- AC-2: DHCP discovery packets SHALL be forwarded via UART tunnel\n- AC-3: Driver SHALL obtain valid IP address from host DHCP server\n- AC-4: IP configuration SHALL be logged to console", "created_at": "", "docname": "11_requirements/netif-tunnel", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_NETIF_TUNNEL_4", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 73, "links": ["REQ_NETIF_TUNNEL_1", "REQ_SYS_NET_1"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Functional Requirements", "sections": ["Functional Requirements", "Network Interface Tunnel Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["emulation", "network", "dhcp"], "template": null, "title": "DHCP Client Support", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_NETIF_TUNNEL_5": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The tunnel driver SHALL be conditionally compiled only when building for QEMU target, with zero overhead on real hardware builds.\n\n**Rationale:** Real hardware uses WiFi driver; tunnel driver is emulation-specific.\n\n**Acceptance Criteria:**\n\n- AC-1: Driver SHALL be wrapped in `#ifdef CONFIG_IDF_TARGET_ESP32_QEMU`\n- AC-2: Driver SHALL NOT be linked in hardware builds\n- AC-3: Application code SHALL detect emulation mode at runtime\n- AC-4: Build system SHALL provide clear documentation for enabling QEMU mode", "created_at": "", "docname": "11_requirements/netif-tunnel", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_NETIF_TUNNEL_5", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 92, "links": ["REQ_NETIF_TUNNEL_1"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Functional Requirements", "sections": ["Functional Requirements", "Network Interface Tunnel Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["emulation", "build"], "template": null, "title": "Conditional Compilation", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_NETIF_TUNNEL_DOC_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The project SHALL provide clear documentation for setting up and using QEMU emulation with network tunnel.\n\n**Rationale:** Developers need step-by-step instructions to use emulation features.\n\n**Acceptance Criteria:**\n\n- AC-1: Documentation SHALL include QEMU build/installation instructions\n- AC-2: Documentation SHALL explain TAP interface setup on Linux/macOS\n- AC-3: Documentation SHALL provide example commands for running emulation\n- AC-4: Documentation SHALL describe limitations compared to real hardware", "created_at": "", "docname": "11_requirements/netif-tunnel", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_NETIF_TUNNEL_DOC_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 153, "links": ["REQ_NETIF_TUNNEL_3", "REQ_SYS_SIM_1"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Documentation Requirements", "sections": ["Documentation Requirements", "Network Interface Tunnel Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["emulation", "documentation"], "template": null, "title": "Emulation Setup Documentation", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_NETIF_TUNNEL_NF_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The UART tunnel SHOULD support sufficient throughput for web interface testing (minimum 100 KB/s).\n\n**Rationale:** Web page loads and AJAX updates require reasonable bandwidth.\n\n**Acceptance Criteria:**\n\n- AC-1: Tunnel SHALL sustain at least 100 KB/s bidirectional throughput\n- AC-2: Web page loads SHALL complete within 5 seconds over tunnel\n- AC-3: UART baud rate SHALL be configurable (default 921600)", "created_at": "", "docname": "11_requirements/netif-tunnel", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_NETIF_TUNNEL_NF_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 114, "links": ["REQ_NETIF_TUNNEL_1"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "optional", "query": "", "rationale": "", "section_name": "Performance Requirements", "sections": ["Performance Requirements", "Network Interface Tunnel Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["emulation", "performance"], "template": null, "title": "Tunnel Throughput", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_NETIF_TUNNEL_NF_2": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The tunnel driver SHOULD handle UART packet loss gracefully without crashing.\n\n**Rationale:** QEMU's UART emulation may occasionally drop bytes under high load.\n\n**Acceptance Criteria:**\n\n- AC-1: Driver SHALL detect framing errors and discard partial packets\n- AC-2: TCP connections SHALL recover from occasional packet loss\n- AC-3: Driver SHALL log packet loss statistics for debugging", "created_at": "", "docname": "11_requirements/netif-tunnel", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_NETIF_TUNNEL_NF_2", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 132, "links": ["REQ_NETIF_TUNNEL_2"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "optional", "query": "", "rationale": "", "section_name": "Performance Requirements", "sections": ["Performance Requirements", "Network Interface Tunnel Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["emulation", "reliability"], "template": null, "title": "Packet Loss Handling", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_SYS_ARCH_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:**\nThe system SHALL implement modular component-based architecture following ESP-IDF conventions.\n\n**Rationale:**\nEnables maintainability, testability, and reusability.\n\n**Acceptance Criteria:**\n\n* AC-1: Components provide well-defined APIs\n* AC-2: Components are independently testable\n* AC-3: Main application coordinates components without tight coupling", "created_at": "", "docname": "11_requirements/system", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_SYS_ARCH_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 79, "links": [], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "System Requirements", "sections": ["System Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["architecture", "modularity"], "template": null, "title": "Component-based Architecture", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_SYS_CFG_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:**\nThe system SHALL persist configuration settings across power cycles using ESP32 NVS (Non-Volatile Storage).\n\n**Rationale:**\nMaintains user settings and system configuration permanently.\n\n**Acceptance Criteria:**\n\n* AC-1: Configuration survives device reset and power loss\n* AC-2: Factory reset capability restores default settings\n* AC-3: Configuration corruption detection and recovery", "created_at": "", "docname": "11_requirements/system", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_SYS_CFG_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 61, "links": [], "links_back": ["REQ_CFG_1", "REQ_CFG_3", "REQ_CFG_4"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "System Requirements", "sections": ["System Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["storage", "nvs", "configuration"], "template": null, "title": "Non-volatile Configuration Storage", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_SYS_HW_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:**\nThe system SHALL operate on ESP32 microcontroller with 4MB flash memory.\n\n**Rationale:**\nESP32 provides WiFi connectivity, sufficient processing power, and adequate flash memory for IoT applications.\n\n**Acceptance Criteria:**\n\n* AC-1: System boots successfully on ESP32 WROOM-32 or compatible modules\n* AC-2: Flash usage does not exceed 90% of available 4MB\n* AC-3: System operates within ESP32 memory constraints (DRAM/IRAM)", "created_at": "", "docname": "11_requirements/system", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_SYS_HW_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 6, "links": [], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "System Requirements", "sections": ["System Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["hardware", "platform"], "template": null, "title": "ESP32 Hardware Platform", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_SYS_NET_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:**\nThe system SHALL provide WiFi connectivity in both Access Point (AP) and Station (STA) modes.\n\n**Rationale:**\nEnables web interface access and network configuration flexibility.\n\n**Acceptance Criteria:**\n\n* AC-1: System creates WiFi Access Point for initial configuration\n* AC-2: System connects to existing WiFi networks as station\n* AC-3: Automatic fallback to AP mode if STA connection fails", "created_at": "", "docname": "11_requirements/system", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_SYS_NET_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 24, "links": [], "links_back": ["REQ_NETIF_TUNNEL_4", "REQ_SYS_WEB_1", "REQ_WEB_3"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "System Requirements", "sections": ["System Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["network", "wifi"], "template": null, "title": "WiFi Connectivity", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_SYS_PERF_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:**\nThe system SHALL manage memory efficiently within ESP32 constraints.\n\n**Rationale:**\nPrevents memory leaks and ensures stable operation.\n\n**Acceptance Criteria:**\n\n* AC-1: Heap usage monitored and bounded\n* AC-2: No memory leaks during normal operation\n* AC-3: Stack overflow protection for all tasks\n* AC-4: Dynamic allocation minimized in time-critical paths", "created_at": "", "docname": "11_requirements/system", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_SYS_PERF_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 116, "links": [], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "System Requirements", "sections": ["System Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["performance", "memory"], "template": null, "title": "Memory Management", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_SYS_REL_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:**\nThe system SHALL handle errors gracefully and attempt recovery where possible.\n\n**Rationale:**\nEnsures system reliability and user experience.\n\n**Acceptance Criteria:**\n\n* AC-1: Component timeouts handled without system crash\n* AC-2: Network connection failures trigger automatic retry\n* AC-3: System logs errors for diagnostics\n* AC-4: Watchdog timer prevents system hang", "created_at": "", "docname": "11_requirements/system", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_SYS_REL_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 97, "links": [], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "System Requirements", "sections": ["System Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["reliability", "error-handling"], "template": null, "title": "Error Handling and Recovery", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_SYS_SIM_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:**\nThe system SHALL support build-time selectable emulator mode (QEMU) that replaces hardware-specific modules with simulator implementations while preserving public APIs.\n\n**Rationale:**\nEnables development and testing without physical hardware, improves reproducibility and CI test coverage.\n\n**Acceptance Criteria:**\n\n* AC-1: Kconfig option ``CONFIG_TARGET_EMULATOR`` enables emulator builds\n* AC-2: Simulator implementations selected by CMake without requiring code changes\n* AC-3: Simulator components implement complete public API of hardware counterparts\n* AC-4: Emulator build runnable under QEMU with console output\n* AC-5: Documentation provides build/run verification steps", "created_at": "", "docname": "11_requirements/system", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_SYS_SIM_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 135, "links": [], "links_back": ["REQ_NETIF_TUNNEL_1", "REQ_NETIF_TUNNEL_DOC_1"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "System Requirements", "sections": ["System Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["emulator", "qemu", "testing"], "template": null, "title": "Emulator Support", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_SYS_WEB_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:**\nThe system SHALL provide web interface for configuration and monitoring.\n\n**Rationale:**\nUser-friendly interface for system setup and operation without firmware recompilation.\n\n**Acceptance Criteria:**\n\n* AC-1: Web interface accessible via HTTP\n* AC-2: Configuration changes applied without firmware recompilation\n* AC-3: Real-time monitoring of system status", "created_at": "", "docname": "11_requirements/system", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_SYS_WEB_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 42, "links": ["REQ_SYS_NET_1"], "links_back": ["REQ_WEB_1", "REQ_WEB_2", "REQ_WEB_4", "REQ_WEB_5"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "System Requirements", "sections": ["System Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["web", "configuration"], "template": null, "title": "Web-based Configuration", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_WEB_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The system SHALL provide a web page that displays current system status with real-time updates for user monitoring.\n\n**Rationale:** Users need to monitor the device's operation remotely via web interface without requiring physical access.\n\n**Acceptance Criteria:**\n\n- AC-1: Main page SHALL display current system status\n- AC-2: Status values SHALL update with reasonable responsiveness\n- AC-3: Page SHALL indicate system state (normal, error, warning)\n- AC-4: Page SHALL be accessible via web browser on mobile and desktop devices", "created_at": "", "docname": "11_requirements/web-server", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_WEB_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 15, "links": ["REQ_SYS_WEB_1"], "links_back": ["REQ_WEB_NF_1", "REQ_WEB_NF_2"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Functional Requirements", "sections": ["Functional Requirements", "Web Server Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["web", "ui", "monitoring"], "template": null, "title": "Real-time Status Display", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_WEB_2": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The system SHALL provide a web page for configuring device parameters as defined in the configuration management requirements.\n\n**Rationale:** Users need to adjust device settings remotely without firmware recompilation or physical access.\n\n**Acceptance Criteria:**\n\n- AC-1: Settings page SHALL display all user-configurable parameters\n- AC-2: Settings page SHALL validate user input ranges before submission\n- AC-3: Settings page SHALL provide immediate feedback on invalid inputs\n- AC-4: Settings page SHALL confirm successful parameter updates\n- AC-5: Settings page SHALL handle configuration save errors gracefully", "created_at": "", "docname": "11_requirements/web-server", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_WEB_2", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 34, "links": ["REQ_SYS_WEB_1", "REQ_CFG_3"], "links_back": ["REQ_CFG_7", "REQ_WEB_NF_1", "REQ_WEB_NF_2"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Functional Requirements", "sections": ["Functional Requirements", "Web Server Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["web", "ui", "configuration"], "template": null, "title": "Configuration Interface", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_WEB_3": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The system SHALL provide a captive portal WiFi setup page for initial network configuration.\n\n**Rationale:** Users need an intuitive method to configure WiFi credentials without serial console access or hardcoded credentials.\n\n**Acceptance Criteria:**\n\n- AC-1: Device SHALL start in AP mode when WiFi credentials are not configured\n- AC-2: WiFi setup page SHALL display available WiFi networks (SSID scan)\n- AC-3: WiFi setup page SHALL accept SSID and password input\n- AC-4: WiFi setup page SHALL validate credentials by attempting connection\n- AC-5: WiFi setup page SHALL provide feedback on connection success/failure\n- AC-6: Device SHALL switch to STA mode after successful WiFi configuration", "created_at": "", "docname": "11_requirements/web-server", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_WEB_3", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 54, "links": ["REQ_SYS_NET_1"], "links_back": ["REQ_WEB_NF_2"], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Functional Requirements", "sections": ["Functional Requirements", "Web Server Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["web", "wifi", "network"], "template": null, "title": "WiFi Setup Interface", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_WEB_4": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The system SHALL provide navigation between multiple web pages (status, settings, WiFi setup).\n\n**Rationale:** Users need to access different functionality areas without memorizing URLs.\n\n**Acceptance Criteria:**\n\n- AC-1: All pages SHALL include navigation menu or links\n- AC-2: Navigation SHALL clearly indicate current page\n- AC-3: Navigation SHALL be accessible on mobile devices\n- AC-4: Page URLs SHALL be intuitive and RESTful (e.g., `/`, `/settings`, `/wifi`)", "created_at": "", "docname": "11_requirements/web-server", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_WEB_4", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 75, "links": ["REQ_SYS_WEB_1"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Functional Requirements", "sections": ["Functional Requirements", "Web Server Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["web", "ui", "navigation"], "template": null, "title": "Web Interface Navigation", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_WEB_5": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** The web server SHALL handle multiple simultaneous HTTP connections without blocking.\n\n**Rationale:** Multiple users or browser tabs may access the device simultaneously.\n\n**Acceptance Criteria:**\n\n- AC-1: Web server SHALL support at least 4 concurrent connections\n- AC-2: Server SHALL respond to new connections within 2 seconds under load\n- AC-3: Server SHALL not crash or hang under concurrent access\n- AC-4: Connection handling SHALL not interfere with real-time system operation", "created_at": "", "docname": "11_requirements/web-server", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_WEB_5", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 94, "links": ["REQ_SYS_WEB_1"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "mandatory", "query": "", "rationale": "", "section_name": "Functional Requirements", "sections": ["Functional Requirements", "Web Server Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["web", "performance"], "template": null, "title": "HTTP Server Concurrency", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_WEB_NF_1": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** Web pages SHOULD load and render within 3 seconds on typical mobile/desktop browsers.\n\n**Rationale:** Responsive UI improves user experience and reduces perceived latency.\n\n**Acceptance Criteria:**\n\n- AC-1: Initial page load SHALL complete within 3 seconds (excluding network latency)\n- AC-2: Navigation between pages SHALL feel instantaneous (<500ms)\n- AC-3: AJAX updates SHALL not cause page flickering or layout shifts", "created_at": "", "docname": "11_requirements/web-server", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_WEB_NF_1", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 116, "links": ["REQ_WEB_1", "REQ_WEB_2"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "optional", "query": "", "rationale": "", "section_name": "Non-Functional Requirements", "sections": ["Non-Functional Requirements", "Web Server Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["web", "performance", "ux"], "template": null, "title": "Web UI Responsiveness", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}, "REQ_WEB_NF_2": {"acceptance_criteria": "", "arch": {}, "avatar": "", "closed_at": "", "completion": null, "constraints": [], "constraints_error": null, "constraints_passed": true, "constraints_results": {}, "content": "**Description:** Web interface SHOULD be optimized for mobile devices with responsive design.\n\n**Rationale:** Many users will access the device from smartphones in the field.\n\n**Acceptance Criteria:**\n\n- AC-1: UI SHALL be usable on screens as small as 320px width\n- AC-2: Touch targets SHALL be at least 44x44px for mobile usability\n- AC-3: Text SHALL be readable without zooming on mobile devices", "created_at": "", "docname": "11_requirements/web-server", "doctype": ".rst", "duration": null, "external_css": "external_link", "external_url": null, "has_dead_links": false, "has_forbidden_dead_links": false, "id": "REQ_WEB_NF_2", "id_prefix": "", "is_external": false, "is_import": false, "is_modified": false, "jinja_content": false, "layout": null, "lineno": 134, "links": ["REQ_WEB_1", "REQ_WEB_2", "REQ_WEB_3"], "links_back": [], "max_amount": "", "max_content_lines": "", "modifications": 0, "params": "", "parent_need": null, "parent_needs": [], "parent_needs_back": [], "parts": {}, "post_content": null, "post_template": null, "pre_content": null, "pre_template": null, "prefix": "", "priority": "optional", "query": "", "rationale": "", "section_name": "Non-Functional Requirements", "sections": ["Non-Functional Requirements", "Web Server Requirements"], "service": "", "signature": null, "specific": "", "status": "approved", "style": null, "tags": ["web", "ui", "mobile"], "template": null, "title": "Mobile-First Design", "type": "req", "type_name": "Requirement", "updated_at": "", "url": "", "url_postfix": "", "user": ""}}, "needs_amount": 34, "needs_schema": {"$schema": "http://json-schema.org/draft-07/schema#", "properties": {"acceptance_criteria": {"default": "", "description": "Added by needs_extra_options config", "field_type": "extra", "type": "string"}, "arch": {"additionalProperties": {"type": "string"}, "default": {}, "description": "Mapping of uml key to uml content.", "field_type": "core", "type": "object"}, "avatar": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "closed_at": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "completion": {"default": null, "description": "Added for needgantt functionality", "field_type": "extra", "type": "integer"}, "constraints": {"default": [], "description": "List of constraint names, which are defined for this need.", "field_type": "core", "items": {"type": "string"}, "type": "array"}, "constraints_error": {"default": null, "description": "An error message set if any constraint failed, and `error_message` field is set in config.", "field_type": "core", "type": ["string", "null"]}, "constraints_passed": {"default": true, "description": "True if all constraints passed, False if any failed, None if not yet checked.", "field_type": "core", "type": ["boolean", "null"]}, "constraints_results": {"additionalProperties": {"type": "object"}, "default": {}, "description": "Mapping of constraint name, to check name, to result, None if not yet checked.", "field_type": "core", "type": ["object", "null"]}, "content": {"default": "", "description": "The main content of the need.", "field_type": "core", "type": "string"}, "created_at": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "docname": {"default": null, "description": "Name of the document where the need is defined (None if external).", "field_type": "core", "type": ["string", "null"]}, "doctype": {"default": ".rst", "description": "The markup type of the content, denoted by the suffix of the source file, e.g. '.rst'.", "field_type": "core", "type": "string"}, "duration": {"default": null, "description": "Added for needgantt functionality", "field_type": "extra", "type": "integer"}, "external_css": {"default": "", "description": "CSS class name, added to the external reference.", "field_type": "core", "type": "string"}, "external_url": {"default": null, "description": "URL of the need, if it is an external need.", "field_type": "core", "type": ["string", "null"]}, "has_dead_links": {"default": false, "description": "True if any links reference need ids that are not found in the need list.", "field_type": "core", "type": "boolean"}, "has_forbidden_dead_links": {"default": false, "description": "True if any links reference need ids that are not found in the need list, and the link type does not allow dead links.", "field_type": "core", "type": "boolean"}, "id": {"description": "ID of the data.", "field_type": "core", "type": "string"}, "id_prefix": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "is_external": {"default": false, "description": "If true, no node is created and need is referencing external url.", "field_type": "core", "type": "boolean"}, "is_import": {"default": false, "description": "If true, the need was derived from an import.", "field_type": "core", "type": "boolean"}, "is_modified": {"default": false, "description": "Whether the need was modified by needextend.", "field_type": "core", "type": "boolean"}, "jinja_content": {"default": false, "description": "Whether the content was pre-processed by jinja.", "field_type": "core", "type": "boolean"}, "layout": {"default": null, "description": "Key of the layout, which is used to render the need.", "field_type": "core", "type": ["string", "null"]}, "lineno": {"default": null, "description": "Line number where the need is defined (None if external).", "field_type": "core", "type": ["integer", "null"]}, "links": {"default": [], "description": "Link field", "field_type": "links", "items": {"type": "string"}, "type": "array"}, "links_back": {"default": [], "description": "Backlink field", "field_type": "backlinks", "items": {"type": "string"}, "type": "array"}, "max_amount": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "max_content_lines": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "modifications": {"default": 0, "description": "Number of modifications by needextend.", "field_type": "core", "type": "integer"}, "params": {"default": "", "description": "Added by service open-needs", "field_type": "extra", "type": "string"}, "parent_need": {"default": null, "description": "Simply the first parent id.", "field_type": "core", "type": ["string", "null"]}, "parent_needs": {"default": [], "description": "Link field", "field_type": "links", "items": {"type": "string"}, "type": "array"}, "parent_needs_back": {"default": [], "description": "Backlink field", "field_type": "backlinks", "items": {"type": "string"}, "type": "array"}, "parts": {"additionalProperties": {"type": "object"}, "default": {}, "description": "Mapping of parts, a.k.a. sub-needs, IDs to data that overrides the need's data", "field_type": "core", "type": "object"}, "post_content": {"default": null, "description": "Additional content after the need.", "field_type": "core", "type": ["string", "null"]}, "post_template": {"default": null, "description": "The template key, if the post_content was created from a jinja template.", "field_type": "core", "type": ["string", "null"]}, "pre_content": {"default": null, "description": "Additional content before the need.", "field_type": "core", "type": ["string", "null"]}, "pre_template": {"default": null, "description": "The template key, if the pre_content was created from a jinja template.", "field_type": "core", "type": ["string", "null"]}, "prefix": {"default": "", "description": "Added by service open-needs", "field_type": "extra", "type": "string"}, "priority": {"default": "", "description": "Added by needs_extra_options config", "field_type": "extra", "type": "string"}, "query": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "rationale": {"default": "", "description": "Added by needs_extra_options config", "field_type": "extra", "type": "string"}, "section_name": {"default": null, "description": "Simply the first section.", "field_type": "core", "type": ["string", "null"]}, "sections": {"default": [], "description": "Sections of the need.", "field_type": "core", "items": {"type": "string"}, "type": "array"}, "service": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "signature": {"default": null, "description": "Derived from a docutils desc_name node.", "field_type": "core", "type": ["string", "null"]}, "specific": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "status": {"default": null, "description": "Status of the need.", "field_type": "core", "type": ["string", "null"]}, "style": {"default": null, "description": "Comma-separated list of CSS classes (all appended by `needs_style_`).", "field_type": "core", "type": ["string", "null"]}, "tags": {"default": [], "description": "List of tags.", "field_type": "core", "items": {"type": "string"}, "type": "array"}, "template": {"default": null, "description": "The template key, if the content was created from a jinja template.", "field_type": "core", "type": ["string", "null"]}, "title": {"description": "Title of the need.", "field_type": "core", "type": "string"}, "type": {"default": "", "description": "Type of the need.", "field_type": "core", "type": "string"}, "type_name": {"default": "", "description": "Name of the type.", "field_type": "core", "type": "string"}, "updated_at": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "url": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}, "url_postfix": {"default": "", "description": "Added by service open-needs", "field_type": "extra", "type": "string"}, "user": {"default": "", "description": "Added by service github-issues", "field_type": "extra", "type": "string"}}, "type": "object"}}}}